import { Injectable } from '@angular/core';
import { Subject } from 'rxjs';
import * as i0 from "@angular/core";
export class DateFnsConfigurationService {
    constructor() {
        this.localeChanged = new Subject();
    }
    locale() {
        return this.locale$;
    }
    setLocale(locale) {
        this.locale$ = locale;
        this.localeChanged.next();
    }
}
DateFnsConfigurationService.ɵprov = i0.ɵɵdefineInjectable({ factory: function DateFnsConfigurationService_Factory() { return new DateFnsConfigurationService(); }, token: DateFnsConfigurationService, providedIn: "root" });
DateFnsConfigurationService.decorators = [
    { type: Injectable, args: [{ providedIn: 'root' },] }
];
/**
 * Helper function used by all pipes to calculate locale
 */
export const calculateLocale = (options, config) => {
    const configLocale = config.locale();
    if (!options && configLocale) {
        return { locale: configLocale };
    }
    if (options && !options.locale && configLocale) {
        return Object.assign(Object.assign({}, options), { locale: configLocale });
    }
    return options;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS1mbnMtY29uZmlndXJhdGlvbi5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LWRhdGUtZm5zL3NyYy9saWIvZGF0ZS1mbnMtY29uZmlndXJhdGlvbi5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQzs7QUFzQi9CLE1BQU0sT0FBTywyQkFBMkI7SUFEeEM7UUFFUyxrQkFBYSxHQUFtQixJQUFJLE9BQU8sRUFBRSxDQUFDO0tBV3REO0lBUkMsTUFBTTtRQUNKLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUN0QixDQUFDO0lBRUQsU0FBUyxDQUFDLE1BQTBCO1FBQ2xDLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDNUIsQ0FBQzs7OztZQVpGLFVBQVUsU0FBQyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUU7O0FBZWxDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQzdCLE9BQXdDLEVBQ3hDLE1BQTRCLEVBQ0ssRUFBRTtJQUNuQyxNQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7SUFFckMsSUFBSSxDQUFDLE9BQU8sSUFBSSxZQUFZLEVBQUU7UUFDNUIsT0FBTyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsQ0FBQztLQUNqQztJQUVELElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sSUFBSSxZQUFZLEVBQUU7UUFDOUMsdUNBQ0ssT0FBTyxLQUNWLE1BQU0sRUFBRSxZQUFZLElBQ3BCO0tBQ0g7SUFFRCxPQUFPLE9BQU8sQ0FBQztBQUNqQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBMb2NhbGUgfSBmcm9tICdkYXRlLWZucyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0ZUZuc0NvbmZpZ3VyYXRpb24ge1xuICAvKipcbiAgICogT2JzZXJ2YWJsZSBsYW5ndWFnZS1hd2FyZSBwaXBlcyBzdWJzY3JpYmUgdG8gZ2V0IG5vdGlmaWVkIHdoZW4gdGhlIGxvY2FsZSBjaGFuZ2VzLFxuICAgKiB0aGlzIGlzIHVzZWZ1bCB3aGVuIHBpcGVzIGxpdmUgaW4gYW4gT25QdXNoIGNvbXBvbmVudC5cbiAgICovXG4gIGxvY2FsZUNoYW5nZWQ6IFN1YmplY3Q8bmV2ZXI+O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkZWZhdWx0IGxvY2FsZSB1c2VkIGJ5IGRhdGUtZm5zXG4gICAqL1xuICBsb2NhbGUoKTogTG9jYWxlIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBkZWZhdWx0IGxvY2FsZSB1c2VkIGJ5IGRhdGUtZm5zXG4gICAqL1xuICBzZXRMb2NhbGUobG9jYWxlOiBMb2NhbGUgfCB1bmRlZmluZWQpOiB2b2lkO1xufVxuXG5ASW5qZWN0YWJsZSh7IHByb3ZpZGVkSW46ICdyb290JyB9KVxuZXhwb3J0IGNsYXNzIERhdGVGbnNDb25maWd1cmF0aW9uU2VydmljZSBpbXBsZW1lbnRzIERhdGVGbnNDb25maWd1cmF0aW9uIHtcbiAgcHVibGljIGxvY2FsZUNoYW5nZWQ6IFN1YmplY3Q8bmV2ZXI+ID0gbmV3IFN1YmplY3QoKTtcbiAgcHJpdmF0ZSBsb2NhbGUkOiBMb2NhbGUgfCB1bmRlZmluZWQ7XG5cbiAgbG9jYWxlKCk6IExvY2FsZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlJDtcbiAgfVxuXG4gIHNldExvY2FsZShsb2NhbGU6IExvY2FsZSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIHRoaXMubG9jYWxlJCA9IGxvY2FsZTtcbiAgICB0aGlzLmxvY2FsZUNoYW5nZWQubmV4dCgpO1xuICB9XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHVzZWQgYnkgYWxsIHBpcGVzIHRvIGNhbGN1bGF0ZSBsb2NhbGVcbiAqL1xuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZUxvY2FsZSA9IChcbiAgb3B0aW9uczogeyBsb2NhbGU/OiBMb2NhbGUgfSB8IHVuZGVmaW5lZCxcbiAgY29uZmlnOiBEYXRlRm5zQ29uZmlndXJhdGlvblxuKTogeyBsb2NhbGU/OiBMb2NhbGUgfSB8IHVuZGVmaW5lZCA9PiB7XG4gIGNvbnN0IGNvbmZpZ0xvY2FsZSA9IGNvbmZpZy5sb2NhbGUoKTtcblxuICBpZiAoIW9wdGlvbnMgJiYgY29uZmlnTG9jYWxlKSB7XG4gICAgcmV0dXJuIHsgbG9jYWxlOiBjb25maWdMb2NhbGUgfTtcbiAgfVxuXG4gIGlmIChvcHRpb25zICYmICFvcHRpb25zLmxvY2FsZSAmJiBjb25maWdMb2NhbGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGxvY2FsZTogY29uZmlnTG9jYWxlXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufTtcbiJdfQ==